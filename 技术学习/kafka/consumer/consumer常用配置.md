# 消费者常见的配置参数
## 1. 消费超时控制参数
### max.poll.interval.ms
#### 说明
- 消费者每次从 Kafka 拉取数据的间隔时间，超时会认为该消费者已死亡，触发重平衡。
#### 参数作用
- 将处理能力较弱的cosumer踢出消费组，保障消费能力。
#### 配置衡量因素
- 单任务消费时长。
- [max.poll.records](#maxpollrecords)：单次poll返回消息的最大条数。
- 消息生产速率。
- partation数量。
> 单实例消息消费QPS均值 = 消息生产速率 / partation数量<br>
> 单次期望消费时间 = 单任务消费时长 * 单次poll返回消息的最大条数 <br>
> 单次期望消费时间 * 2 < max.poll.interval.ms
### max.poll.records
#### 说明
-  Consumer 一次从 Kafka broker 中拉取的最大消息数目，默认值为 500 条。
#### 参数作用
- 控制内存使用，控制 Consumer 实例的内存消耗。
- 控制消息处理的频率，以避免一次性加载大量数据，减少对 broker 和网络资源的压力。
#### 配置衡量因素
- 机器内存。
- 单条消息大小。
- 单条消息平均消费时长。
>没有固定的公式可以直接将 max.poll.records 映射到具体的内存大小，因为这还取决于消息的处理逻辑、Consumer 的并发性和其他运行时因素。<br>
**通常，你可以从 Kafka 的默认值开始，根据你的具体情况逐步调整，并密切监控其影响。**